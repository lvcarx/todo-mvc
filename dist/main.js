(()=>{var t={356:t=>{t.exports=class{constructor(t,e){this.model=t,this.view=e,this.model.bindTodoListChanged(this.onTodoListChanged.bind(this)),this.connectedGet(),this.view.viewAdd(this.connectedAdd.bind(this)),this.view.viewDelete(this.connectedDelete.bind(this)),this.view.viewFavorite(this.connectedFavorite.bind(this)),this.view.viewEdit(this.connectedEdit.bind(this)),this.view.viewDone(this.connectedDone.bind(this)),this.view.viewClear(this.connectedClear.bind(this))}onTodoListChanged(t){this.view.render(t)}connectedGet(){this.model.modelGet()}connectedAdd(t){this.model.modelAdd(t)}connectedDelete(t){this.model.modelDelete(t)}connectedFavorite(t){console.log("hi"),this.model.modelFavorite(t)}connectedEdit(t,e){this.model.modelEdit(t,e)}connectedDone(t){this.model.modelDone(t)}connectedClear(t){this.model.modelClear(t)}}},214:(t,e,o)=>{const i=o(919);t.exports=class{constructor(){this.todos=JSON.parse(localStorage.getItem("todoItems"))||[],this.modelAdd.bind(this),this.modelGet.bind(this)}bindTodoListChanged(t){this.onTodoListChanged=t}_commit(){this.onTodoListChanged(this.todos),localStorage.setItem("todoItems",JSON.stringify(this.todos))}modelGet(){this._commit()}modelAdd(t){let e;e=0==this.todos.length?1:this.todos[this.todos.length-1].id+1;const o=new i(e,t);this.todos.push(o),this._commit()}modelDelete(t){for(let e=0;e<this.todos.length;e++)if(this.todos[e].id==t)return this.todos.length>1?(this.todos.splice(e,1),this._commit()):(this.todos=[],this._commit())}modelFavorite(t){console.log("works");for(let e=0;e<this.todos.length;e++)if(this.todos[e].id==t)return this.todos[e].favorite=!this.todos[e].favorite,this._commit()}modelEdit(t,e){for(let o=0;o<this.todos.length;o++)if(this.todos[o].id==t)return this.todos[o].content=e,this._commit()}modelDone(t){for(let e=0;e<this.todos.length;e++)if(this.todos[e].id==t)return this.todos[e].done=!this.todos[e].done,this._commit()}modelClear(){this.todos=[],this._commit()}}},919:t=>{t.exports=class{constructor(t,e,o,i){this.id=t,this.content=e,this.done=o,this.favorite=i}displayTodoItem(){const t=document.getElementById("todoItems"),e=document.createElement("div"),o=document.createElement("p");e.setAttribute("id",this.id),e.setAttribute("class","todoItem"),o.textContent=this.content,o.classList.add("edit"),e.append(o),t.append(e),this.favorite&&e.classList.add("favorite"),this.done&&e.classList.add("done");const i=document.createElement("div");i.setAttribute("class","controls"),e.append(i),this._addFavorite(i),this._addDone(i),this._addDelete(i)}_addFavorite(t){const e=document.createElement("a"),o=document.createElement("img");o.setAttribute("src","./img/favorite.svg"),o.setAttribute("class","controlBtn favorite"),e.setAttribute("class","favorite"),e.append(o),t.append(e)}_addDone(t){const e=document.createElement("a"),o=document.createElement("img");e.setAttribute("class","done"),e.append(o),t.append(e)}_addDelete(t){const e=document.createElement("a"),o=document.createElement("img");e.setAttribute("class","controlBtn delete"),o.setAttribute("src","./img/close.svg"),o.setAttribute("class","delete"),e.append(o),t.append(e)}}},513:(t,e,o)=>{const i=o(919);t.exports=class{constructor(){this.todoItems=document.getElementById("todoItems"),this.inputSection=document.getElementById("inputSection"),this.clearAllBtn=document.getElementById("clearAll"),this.addTodo=document.getElementById("addTodo"),this.deleteButtons=document.getElementsByClassName("delete")}viewAdd(t){const e=this.inputSection;this.addTodo.addEventListener("click",(()=>{this.viewAddHelper(t,e)}),!1)}viewAddHelper(t,e){t(e.value),this.clearInput()}viewDelete(t){this.todoItems.addEventListener("click",(e=>{if("delete"===e.target.className){const o=parseInt(e.target.parentElement.parentElement.parentElement.id);this.viewDeleteHelper(t,o)}}),!1)}viewDeleteHelper(t,e){t(e)}viewFavorite(t){this.todoItems.addEventListener("click",(e=>{if(e.target.classList.contains("favorite")){const o=parseInt(e.target.parentElement.parentElement.parentElement.id);this.viewFavoriteHelper(t,o)}}),!1)}viewFavoriteHelper(t,e){t(e)}viewEdit(t){this.todoItems.addEventListener("click",(e=>{if(e.target.classList.contains("edit")){const o=document.createElement("input");o.setAttribute("value",e.target.textContent);const i=document.createElement("a");i.textContent="Submit",i.classList.add("submit"),i.classList.add("button"),e.target.parentElement.append(o),e.target.parentElement.append(i);const s=parseInt(e.target.parentElement.id);let n=document.getElementById(s);n=n.getElementsByClassName("edit")[0],n.textContent="",i.addEventListener("click",(()=>{this.viewEditHelper(t,s,o.value)}),!1)}}),!1)}viewEditHelper(t,e,o){console.log(e,o),t(e,o)}viewDone(t){this.todoItems.addEventListener("click",(e=>{if(e.target.classList.contains("done")){const o=parseInt(e.target.parentElement.parentElement.id);this.viewDoneHelper(t,o)}}),!1)}viewDoneHelper(t,e){t(e)}viewClear(t){this.clearAllBtn.addEventListener("click",t,!1)}clearInput(){console.log("clear"),this.inputSection.value=""}render(t){if(console.log(t),t.length>0){this.todoItems.innerHTML="";for(const e of t)new i(e.id,e.content,e.done,e.favorite).displayTodoItem()}else this.todoItems.innerHTML=""}}}},e={};function o(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i](s,s.exports,o),s.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=o(214),e=o.n(t),i=o(356),s=o.n(i),n=o(513),d=o.n(n);new(s())(new(e()),new(d()))})()})();